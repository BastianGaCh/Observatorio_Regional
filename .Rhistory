cat("\014")
rm(list=ls())
graphics.off()
if (!require("pacman")) install.packages("pacman"); library(pacman)
p_load(foreign)
dat <- data.frame(read.spss("/Users/hectorbahamonde/RU/research/Observatorio_Regional/data.sav"))
dat$Comuna = trimws(dat$Comuna, which = c("both"), whitespace = "[ \t\r\n]")
# Generar Nombres correctos de Alcaldes
dat$alcalde <- ifelse(dat$Comuna == "Rancagua", "Eduardo Soto", NA)
dat$alcalde <- ifelse(dat$Comuna == "Codegua", "Ana María Silva", NA)
dat$alcalde <- ifelse(dat$Comuna == "Coinco", "Gregorio Valenzuela", NA)
dat$alcalde <- ifelse(dat$Comuna == "Coltauco", "Ruben Jorquera", NA)
dat$alcalde <- ifelse(dat$Comuna == "Doñihue", "Ricardo Acuña", NA)
dat$alcalde <- ifelse(dat$Comuna == "Graneros", "Claudio Segovia", NA)
dat$alcalde <- ifelse(dat$Comuna == "Machalí", "José Miguel Urrutia", NA)
dat$alcalde <- ifelse(dat$Comuna == "Mostazal", "Sergio Medel", NA)
dat$alcalde <- ifelse(dat$Comuna == "Rengo", "Carlos Soto", NA)
dat$alcalde <- ifelse(dat$Comuna == "Requínoa", "Antonio Silva", NA)
dat$alcalde <- ifelse(dat$Comuna == "San Vicente", "Jaime González", NA)
dat$alcalde <- ifelse(dat$Comuna == "San Fernando", "Luis Berwart", NA)
p_load(stringdist)
conoc.alcalde = stringdist(tolower(dat$p6_2), tolower(dat$alcalde), method = "lv") # gente que respondio correctamente: "Indice de Incorrectness"
table(conoc.alcalde)
table(dat$Comuna)
dat$alcalde
dat$p24_1
plot(dat$p24_1)
plot(dat$p24_2)
plot(dat$p24_5)
plot(dat$p24_3)
plot(dat$p24_1)
plot(dat$p25_1)
plot(dat$p25)
dat$T_p25_1
plot(dat$T_p25_1)
plot(dat$T_p25_3)
plot(dat$T_p25_2)
plot(dat$T_p25_4)
plot(dat$T_p25_5)
plot(dat$T_p25_6)
plot(dat$T_p25_7)
plot(dat$T_p25_8)
plot(dat$T_p25_9)
plot(dat$T_p25_10)
plot(dat$T_p25_11)
plot(dat$T_p25_1)
plot(dat$T_p25_2)
plot(dat$T_p25_3)
plot(dat$T_p25_5)
dat$p36
dat$p37
plot(dat$p37)
plot(dat$p38)
dat$p44
dat$p44
dat$p45
dat$p44
plot(dat$p44)
dat$p3
dat$p22
plot(dat$p22)
dat$p23_1
plot(dat$p23_1)
plot(dat$p16)
dat$p36
plot(dat$p36)
levels(dat$p36)
dat$p36 = as.character(dat$p36)
dat$p36
dat$p36[dat$p36 == "NO SABE "] <- NA
dat$p36[dat$p36 == "NO RESPONDE"] <- NA
dat$p36
table(dat$p36)
dat$p36 = as.factor(dat$p36)
dat$p36
# p25: aporte de partidos a la region
dat$T_p25_5
levels(dat$T_p25_5)
dat$T_p25_5 = as.character(dat$T_p25_5)
dat$T_p25_5[dat$T_p25_5 == "NO SABE (NO LEER)"] <- NA
dat$T_p25_5[dat$T_p25_5 == "NO RESPONDE (NO LEER)"] <- NA
dat$T_p25_5 = as.factor(dat$T_p25_5)
dat$T_p25_5
View(dat)
colnames(dat)
dat$p45
colnames(dat)
dat$Q_98_S
colnames(dat)
dat$Q_98_0
colnames(dat)
dat$Q_98_1
colnames(dat)
dat$Q_98_2
colnames(dat)
dat$p46
colnames(dat)
dat$Factor
colnames(dat)
dat$GSE
dat$T_p25_5
cat("\014")
rm(list=ls())
graphics.off()
if (!require("pacman")) install.packages("pacman"); library(pacman)
p_load(foreign)
dat <- data.frame(read.spss("/Users/hectorbahamonde/RU/research/Observatorio_Regional/data.sav"))
dat$T_p25_5
# p25: aporte de partidos a la region
dat$T_p25_5 = as.character(dat$T_p25_5)
dat$T_p25_5[dat$T_p25_5 == "NO SABE (NO LEER)"] <- NA
dat$T_p25_5[dat$T_p25_5 == "NO RESPONDE (NO LEER)"] <- NA
dat$T_p25_5
head(dat$T_p25_5)
as.factor(as.numeric(dat$T_p25_5))
as.factor(dat$T_p25_5)
?as.factor
as.factor(dat$T_p25_5, exclude = NA)
factor(dat$T_p25_5, exclude = NA)
factor(dat$T_p25_5)
plot(factor(dat$T_p25_5))
dat$T_p25_5
plot(dat$T_p25_5)
dat$T_p25_5
as.numeric(as.factor(dat$T_p25_5))
plot(as.numeric(as.factor(dat$T_p25_5)))
plot(as.factor(as.numeric(as.factor(dat$T_p25_5))))
plot(as.numeric(as.factor(dat$T_p25_5)))
as.numeric(as.factor(dat$T_p25_5))
hist(as.numeric(as.factor(dat$T_p25_5)))
hist(as.factor(as.numeric(as.factor(dat$T_p25_5))))
dat$T_p25_5 = as.numeric(as.factor(dat$T_p25_5))
dat$p37
levels(dat$p37)
as.character(dat$p37)
# p37: confianza en las personas
dat$p37 = as.character(dat$p37)
dat$p37
dat$p37[dat$p37 == "NO SABE / NO RESPONDE"] <- NA
dat$p37
table(dat$p37)
as.factor(dat$p37)
dat$p44
dat$p3
# p3 : cambiarse a otro lugar
as.numeric(dat$p3)
# p23_1 : estado/mercado
dat$p23_1
levels(dat$p23_1)
dat$p23_1 = as.character(dat$p23_1)
dat$p23_1[dat$p23_1 == "NO SABE (NO LEER)"] <- NA
dat$p23_1[dat$p23_1 == "NO RESPONDE (NO LEER)"] <- NA
dat$p23_1
as.factor(dat$p23_1)
as.numeric(as.factor(dat$p23_1))
